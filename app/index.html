<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <title>Camomile @ ERRARE</title>

    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="css/app.css"/>
    <link rel="stylesheet" href="css/sticky-footer-navbar.css"/>

    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-route/angular-route.min.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>

    <script src="bower_components/d3/d3.js"></script>

    <script src="bower_components/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="bower_components/angular-strap/dist/angular-strap.min.js"></script>
    <script src="bower_components/angular-strap/dist/angular-strap.tpl.min.js"></script>

    <!-- Json to Human lib-->
    <script src="./bower_components/json-human/lib/crel.js"></script>
    <script src="./bower_components/json-human/src/json.human.js"></script>

    <script src="./bower_components/async/lib/async.js"></script>


    <!-- Modules-->
    <script src="lib/camomile-client-javascript/fermata.js"></script>
    <script src="lib/camomile-client-javascript/camomile.js"></script>

    <!-- Modules-->
    <script src="js/app.js"></script>

    <!-- Services-->
    <script src="js/services/cmError.js"></script>
    <script src="js/services/dateUtils.js"></script>
    <script src="js/services/defaults.js"></script>
    <script src="js/services/langUtils.js"></script>
    <script src="js/services/palette.js"></script>
    <script src="js/services/session.js"></script>
    <script src="js/services/camomileService.js"></script>


    <!-- Filters-->
    <script src="js/filters.js"></script>

    <!-- Directives-->
    <script src="js/directives/appVersion.js"></script>
    <script src="js/directives/blurbtn.js"></script>
    <script src="js/directives/cmBarchart.js"></script>
    <script src="js/directives/cmContextBar.js"></script>
    <script src="js/directives/cmDescriptionModal.js"></script>
    <script src="js/directives/cmEditModal.js"></script>
    <script src="js/directives/cmLegend.js"></script>
    <script src="js/directives/cmPiechart.js"></script>
    <script src="js/directives/cmTimeLine.js"></script>
    <script src="js/directives/cmTreemap.js"></script>
    <script src="js/directives/cmVideoPlayer.js"></script>
    <script src="js/directives/cmVideoThumbnail.js"></script>
    <script src="js/directives/ngLoginSubmit.js"></script>
    <script src="js/directives/ngRightClick.js"></script>

    <!-- Controllers-->
    <script src="js/controllers/commonCtrl.js"></script>
    <script src="js/controllers/parameterButtonCtrl.js"></script>
    <script src="js/controllers/explorationBaseCtrl.js"></script>
    <script src="js/controllers/sessionCtrl.js"></script>
    <script src="js/controllers/regressionCtrl.js"></script>
    <script src="js/controllers/fusionCtrl.js"></script>
    <script src="js/controllers/diffCtrl.js"></script>
    <script src="js/controllers/queueCtrl.js"></script>
    <script src="js/controllers/evidenceCtrl.js"></script>
    <script src="js/controllers/labelCtrl.js"></script>

    <!-- together js -->
    <!--
    <script>

    </script>
    <script src="https://togetherjs.com/togetherjs-min.js"></script>
    -->

</head>
<body>

<!-- Wrap all page content here -->
<div id="wrap">

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Camomile</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <!--<li><a href="" onclick="TogetherJS(this); return false;">Start Multi-user session</a></li>-->
                    <li><a href="#/diff">Diff</a></li>
                    <li><a href="#/regression">Regression</a></li>
                    <!--<li><a href="#/fusion">Fusion</a></li>-->
                    <li><a href="#/queue?type=shot">Annotate shot</a></li>
                    <li><a href="#/queue?type=head">Annotate head</a></li>
                    <li><a href="#/evidence">Evidence</a></li>
                    <li><a href="#/label">Label</a></li>
                </ul>

                <div id="parameterButtons_button_id" ng-controller="ParameterButtonCtrl">
                    <input class="image-button navbar-right" type="image" src="./img/params.png"  ng-click="openParameters()" width="28px" height="27px" style="margin-top: 10px;margin-left: 15px;">
                </div>
                <div ng-controller="SessionCtrl">

                    <div ng-if="isLogged()">
                        <form ng-submit="logout()" class="navbar-form navbar-right">
                            <div class="form-group">
                                <p class="form-control-static cm-infomsg">{{ model.message }}</p>
                            </div>
                            <button type="submit" class="btn btn-danger">Logout</button>
                        </form>
                    </div>

                    <div ng-if="!isLogged()">
                        <!-- 2 forms (1 stays hidden) to enable username and password save -->
                        <!-- see http://timothy.userapp.io/post/63412334209/form-autocomplete-and-remember-password-with-angularjs -->
                        <form name="login-form" id="login-form" method="POST" action="" style="display: none;">
                            <input name="login" id="login-login" type="text">
                            <input name="password" id="login-password" type="password">
                        </form>

                        <form name="login-form" autocomplete="on" ng-login-submit="login" action=""
                              message="model.message" class="navbar-form navbar-right">
                            <div class="form-group">
                                <p class="form-control-static cm-errmsg">{{ message }}</p>
                            </div>
                            <div class="form-group">
                                <input id="login" name="login" type="text" autocomplete="on"
                                       placeholder="Login" class="form-control" style="width:160px;">
                            </div>

                            <div class="form-group">
                                <input id="password" name="password" type="password" autocomplete="on"
                                       placeholder="Password" class="form-control" style="width:160px;">
                            </div>
                            <button type="submit" class="btn btn-success">Sign in</button>
                        </form>

                    </div>

                </div>

            </div>
            <!--/.navbar-collapse -->
        </div>
    </div>

    <!-- Begin page content -->
    <div class="container">

        <!--<div class="col-xs-6 cm-selector" ng-show='!isLogged()'>-->
            <!--Enter your Login / Password an select a case.-->
        <!--</div>-->
        <div ng-view>

        </div>

    </div>
</div>

<div id="parameterModal" class="modal fade" ng-controller="ParameterButtonCtrl">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Change the video path</h4>
            </div>
            <div class="modal-body">
                <div>
                    <span>
                        Use default video path
                        <input type="checkbox" ng-model="model.useDefaultVideoPath">
                    </span>
                </div>
                <div class="input-group" style="margin-top: 20px;">
                    <span class="input-group-addon" data-title="Specify your path here"><b>Video path:</b></span>

                    <form ng-submit="model.modifyVideoPath" class="ng-pristine ng-valid">
                        <input id="videoPathInput" type="text" class="form-control ng-pristine ng-valid" ng-model="model.videoPath" ng-disabled="model.useDefaultVideoPath">
                    </form>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="modifyVideoPath()">Ok</button>
            </div>
        </div>
    </div>
</div>
<div id="button-tooltip"></div>

<div id="footer">
    <div class="container">
        <p class="text-muted credit"><a href="http://camomile.limsi.fr/">Camomile Project</a></p>
    </div>
</div>

</body>
</html>